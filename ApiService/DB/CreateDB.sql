IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = '__MigrationHistory')
   DROP TABLE [dbo].[__MigrationHistory]

IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = 'AspNetUserClaims')
	DROP TABLE [dbo].[AspNetUserClaims]

IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = 'AspNetUserLogins')
	DROP TABLE [dbo].[AspNetUserLogins]

IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = 'AspNetUserRoles')
	DROP TABLE [dbo].[AspNetUserRoles]

IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = 'AspNetRoles')
	DROP TABLE [dbo].[AspNetRoles]

IF EXISTS(SELECT Count(1) FROM information_schema.tables WHERE table_schema = 'dbo' AND table_name = 'AspNetUsers')
	DROP TABLE [dbo].[AspNetUsers]  


CREATE TABLE [dbo].[__MigrationHistory](
	[MigrationId] [nvarchar](150) NOT NULL,
	[ContextKey] [nvarchar](300) NOT NULL,
	[Model] [varbinary](max) NOT NULL,
	[ProductVersion] [nvarchar](32) NOT NULL,
 CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY CLUSTERED 
(
	[MigrationId] ASC,
	[ContextKey] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[AspNetRoles](
	[Id] [nvarchar](128) NOT NULL,
	[Name] [nvarchar](256) NOT NULL,
 CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[AspNetUserClaims]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE TABLE [dbo].[AspNetUserClaims](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[UserId] [nvarchar](128) NOT NULL,
	[ClaimType] [nvarchar](max) NULL,
	[ClaimValue] [nvarchar](max) NULL,
 CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

/****** Object:  Table [dbo].[AspNetUserLogins]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE TABLE [dbo].[AspNetUserLogins](
	[LoginProvider] [nvarchar](128) NOT NULL,
	[ProviderKey] [nvarchar](128) NOT NULL,
	[UserId] [nvarchar](128) NOT NULL,
 CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY CLUSTERED 
(
	[LoginProvider] ASC,
	[ProviderKey] ASC,
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[AspNetUserRoles]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE TABLE [dbo].[AspNetUserRoles](
	[UserId] [nvarchar](128) NOT NULL,
	[RoleId] [nvarchar](128) NOT NULL,
 CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY CLUSTERED 
(
	[UserId] ASC,
	[RoleId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[AspNetUsers]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE TABLE [dbo].[AspNetUsers](
	[Id] [nvarchar](128) NOT NULL,
	[Email] [nvarchar](256) NULL,
	[EmailConfirmed] [bit] NOT NULL,
	[PasswordHash] [nvarchar](max) NULL,
	[SecurityStamp] [nvarchar](max) NULL,
	[PhoneNumber] [nvarchar](max) NULL,
	[PhoneNumberConfirmed] [bit] NOT NULL,
	[TwoFactorEnabled] [bit] NOT NULL,
	[LockoutEndDateUtc] [datetime] NULL,
	[LockoutEnabled] [bit] NOT NULL,
	[AccessFailedCount] [int] NOT NULL,
	[UserName] [nvarchar](256) NOT NULL,
 CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
INSERT [dbo].[__MigrationHistory] ([MigrationId], [ContextKey], [Model], [ProductVersion]) VALUES (N'201411141640458_InitialCreate', N'WebApplication2.Models.ApplicationDbContext', 0x1F8B0800000000000400DD5CDB6EE336107D2FD07F10F4D416A99538DDC536B077913A491B7473C13ADBF66D414BB423AC44A912952628FA657DE827F5173A94A81B2FBAD88AED140B2C2C727866381C92C3E130FFFEFDCFE4DDA3EF190F388ADD804CCDA3D1A1696062078E4B565333A1CB6FDF98EFDE7EF9C5E4DCF11F8D5F72BA6346072D493C35EF290D4F2C2BB6EFB18FE291EFDA5110074B3AB203DF424E608D0F0FBFB78E8E2C0C10266019C6E44342A8EBE3F4033E6701B1714813E45D050EF6625E0E35F314D5B8463E8E4364E3A9F92B5E9C86A1E7DA888228E351D6C2344E3D17813473EC2D4D031112D094E0E4638CE7340AC86A1E4201F2EE9E420C744BE4C598F7E1A424EFDA9DC331EB8E5536CCA1EC24A681DF13F0E898EBC7129BAFA565B3D01F68F01C344D9F58AF532D4ECD4B07A7451F020F1420323C997911239E9A57058BD338BCC67494371C65901711C0FD11449F4755C403A373BB83C29EC6A343F6EFC098251E4D223C2538A111F20E8CDB640143FD337EBA0B3E63323D3E5A2C8FDFBC7A8D9CE3D7DFE1E357D59E425F81AE560045B75110E20864C3CBA2FFA661D5DB5962C3A259A54DA615B025981AA671851EDF63B2A2F73069C66F4CE3C27DC44E5EC28DEB2371612641231A25F0799D781E5A78B8A8B71A79B2FF1BB88E5FBD1E84EB357A7057E9D00BFC61E24430AF3E602FAD8DEFDD309B5EB5F1FEC4C92EA2C067DF75FBCA6A3FCD8324B25967022DC91D8A5698D6A59B58A5F17632690635BC59E7A8FB6FDA4C52D9BC95A4AC43EBCC849CC5B667432EEFF3F2ED6C71952D8869A4C9E0D41BD64840383004BAD2848EBA9A1081AEFD9F57C4731FB9DE004B62072EE0912CDDC8C7452F7F08C00011E92DF32D8A6358119C9F507CDF203AFC1C40F439B693080C754E911F3E3BB7DBFB80E0EBC45F30FBDF1EAFC186E6EE8FE002D93488CE096BB531DEFBC0FE1C24F49C386788E28FD4CE01D9E79DEB770718449C53DBC6717C01C68C9D59000E770E7849E8F1B8371C5BA476ED92CC3CE4FA6A9F44584E3FE5A4A55FA2A6907C130D99CA3F6912F57DB0724937517352BDA81945ABA89CACAFA80CAC9BA49C522F684AD02A67463598C7978ED0F02E5F0ABBFF3EDF669BB76E2DA8A8710E2B24FE11131CC132E6DC224A7144CA11E8B26EECC25948878F317DF6BD29E5F40BF292A159AD351BD24560F8D990C2EEFF6C48C584E207D7615E498783504E0CF09DE8D567ACF6392748B6EDE950EBE6B6996F670DD04D97D3380E6C379D058A10180F60D4E5071FCE688F6664BD112322D0313074976D7950027D3345A3BA2167D8C3141BA77616229CA1D8468EAC46E890D343B07C475508564646EAC27D23F1044BC7116B84D821288699EA122A4F0B97D86E88BC562D092D3B6E61ACEF050FB1E60C87983086AD9AE8C25C1D086102147C844169D3D0C4AA585CB3216ABC56DD98B7B9B0E5B84BF189ADD8648BEFACB14BEEBF3D8B61366B6C0BC6D9AC922E0268837ABB30507E56E96A00E2C165DF0C543831690C94BB545B31D0BAC67660A07595BC3803CD8EA85DC75F38AFEE9B79D60FCADBDFD61BD5B503DBACE963CF4C33F33DA10D85163892CDF36CC12AF123551CCE404E7E3E8BB9AB2B9A08039F635A0FD994FEAED20FB59A4144236A022C0DAD05945F074A40D284EA215C1ECB6B948E7B113D60F3B85B232C5FFB05D88A0DC8D8D56BD10AA1FEF25434CE4EA78FA26785354846DEE9B050C1511884B878D53BDE4129BAB8ACAC982EBE701F6FB8D2313E180D0A6AF15C354ACA3B33B89672D36CD792CA21EBE3926DA425C17DD26829EFCCE05AE236DAAE248553D0C32DD84845F52D7CA0C996473A8ADDA6A89B5859C6142F98589AD4AAC9150A4397AC2AA956BCC498677956B36FE7FD938FFC0CC3B263450E52216DC18906115A61A1165883A4176E14D33344D102B138CFCCF12532E5DEAA59FE7396D5ED531EC47C1FC8A9D9EFAC85E612BFB6DFCA0E09C7B9805EFACCAB4943E90A1B50373758FA1BF250A488DECF022FF189DEC9D2B7CEEEF0AAEDB31219616209F24B4E94A431C9D5ADABBFD3E0C81363C0812AFC98F5074B0FA15379EE855695AEF34CF52879A0AA8AA20B5EED6CF0740E4DEF0113FDC5FEE3D58AF03CF38B27A9540178514F8C4A9E830456A9EB8E5A4F45A962D66BBA230AF9265548A1AA8794D5AC929A90D58AB5F0341A555374E720E79154D1E5DAEEC88A8C922AB4A27A0D6C85CC625D775445D249155851DD1DBBCC401117D23DDEC1B4A7988DB6B0ECB0BBD91EA6C1789E5571982DB072A75F05AA14F7C4E2B7F612182FDF4B8BD29EF836B2A82CCEB199456930F42B50ED46BCBE00355EE3EB316BD7DCB545BEE99A5F8FD7CF6E9FD53AA4439F4852702F0E7FC2216FC20F5CED8F6CA4135846621AB91A61837F8A29F6478C6034FFDD9B792E66CB794E708588BBC431CD523BCCF1E1D15878A3B33FEF65AC38763CC58155F768A63E665BC8D2220F28B2EF5124E74C6CF0A6A40495C2D197C4C18F53F3CFB4D5491AD960BFD2E203E332FE48DCDF13A8B88B126CFC25E7800E9363DF7CE0DAD31711DDB57AF9DBA7ACE9817113C18C39310E055DAE33C2F57712BDA4C99A6E20CDDAAF275EEE84AA3D4950A20A1362FD17080B970EF2FA2097F22B1F3D7EDD5734E50B838D1015AF0886C21B4485BA5702EB60695F0838F049D31702FD3AAB7E31B08E68DAD7022EE90F26BE15E8BE0CE52D77B8D528CE45DB5892523DB7E65A6F9478B9EBBD494AC9DE68A2CB69D73DE03648AD5EC3325E5856F260BBA322E97830EC5D9AF6B3671AEF4B727199F6B1DB9CE26DA611375C11FDAFB287F720DF4D91BFB3FB1CE16DDB9A2E96BBE78996FD3281F7CCD87856D7EEF37DB76D6CBA30EF9E1B5BAFACDE3DB3B55DED9F3BB6B4CE5BE8CE7374E57423CD9D8C2A16DC96839B05CEE184BF08C008328F327B3AA94EFA6A4A586D615892E899EAB3CD44C6D2C491F84A14CD6CFBF5956FF88D9DE534CD6C35399A4DBCF9FADFC89BD334F3D6643EEE227B58997BA8CAE86E59C79A12A25E52B670AD272DC9E96D3E6BE305FB4B4A0E1E4429B5D9A3B9237E39B9C083A864C8A9D323F757BEEE85BDB3F2971761FF8EDD5509C1FE0E23C1766DD72C682EC932C8376F41A29C4488D05C618A1CD8524F23EA2E914DA19AC598D3B7DF69DC8EDD742CB073496E121A2614BA8CFD85570B783127A0897F9AE05C97797213B2AF78882E80982E8BCDDF901F12D7730AB92F1431210D04F32E7844978D256591DDD55381741D908E405C7D85537487FDD003B0F886CCD1035E473630BFF77885ECA73202A803691F88BADA27672E5A45C88F3946D91E3EC1861DFFF1ED7FB2E1551480540000, N'6.1.1-30610')
GO
INSERT [dbo].[AspNetUsers] ([Id], [Email], [EmailConfirmed], [PasswordHash], [SecurityStamp], [PhoneNumber], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEndDateUtc], [LockoutEnabled], [AccessFailedCount], [UserName]) VALUES (N'931d781d-cf45-4d97-be21-62f259b21b04', N'test@test.com', 0, N'AD7kDQMypTpPuls3Y7jTtoeUt/NbkMxEyOkMJ+DG7iq4wbjkzgVt/QSOYG3Q8q4D+Q==', N'53e6a9cb-bd84-4809-ae34-9c5c32778754', NULL, 0, 0, NULL, 1, 0, N'test@test.com')
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [RoleNameIndex]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE UNIQUE NONCLUSTERED INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]
(
	[Name] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [IX_UserId]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE NONCLUSTERED INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]
(
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [IX_UserId]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE NONCLUSTERED INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]
(
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [IX_RoleId]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE NONCLUSTERED INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]
(
	[RoleId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [IX_UserId]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE NONCLUSTERED INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]
(
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UserNameIndex]    Script Date: 11/19/2014 3:17:09 PM ******/
CREATE UNIQUE NONCLUSTERED INDEX [UserNameIndex] ON [dbo].[AspNetUsers]
(
	[UserName] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[AspNetUserClaims]  WITH CHECK ADD  CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[AspNetUserClaims] CHECK CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId]
GO
ALTER TABLE [dbo].[AspNetUserLogins]  WITH CHECK ADD  CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[AspNetUserLogins] CHECK CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId]
GO
ALTER TABLE [dbo].[AspNetUserRoles]  WITH CHECK ADD  CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY([RoleId])
REFERENCES [dbo].[AspNetRoles] ([Id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[AspNetUserRoles] CHECK CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId]
GO
ALTER TABLE [dbo].[AspNetUserRoles]  WITH CHECK ADD  CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[AspNetUsers] ([Id])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[AspNetUserRoles] CHECK CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId]
GO
USE [master]
GO
ALTER DATABASE [MyTest] SET  READ_WRITE 
GO
